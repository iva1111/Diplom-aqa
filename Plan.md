# План тестирования приложения Путешествие дня.
Описание задачи

Тестирование возможности покупки тура с помощью двух способов: 
1. Покупка тура по дебетовой карте
Нажать "Купить", ввести данные карты, нажать "Продолжить". Далее проверить, что оплата прошла успешно и появилось сообщение, о том что тур куплен. Это позитивный тест.                                
  В негативных тестах надо проверять наличие сообщения об ошибке и что операция отклонена банком.

2. Покупка тура в кредит по данным банковской карты
Нажать "Купить в кредит", ввести данные карты, нажать "Продолжить". Далее проверить, что оплата прошла успешно и появилось сообщение, о том что тур куплен. Это позитивный тест.                                      
В негативных тестах надо проверять наличие сообщения об ошибке и что операция отклонена банком.

## Перечень автоматизируемых сценариев
Предусловие:
Открыть сайт http://localhost:8080

### 1. Проверка выбора покупки тура по карте или в кредит на странице сайта

1.1 Проверка выбора покупки тура по карте
1. Нажать на кнопку "Купить"                                       
Ожидаемый результат: открылась форма заполнения данных карты

1.2 Проверка выбора покупки тура в кредит на странице сайта
1. Нажать на кнопку "Купить в кредит"                              
Ожидаемый результат: открылась форма заполнения данных карты

### 2. Проверка оплаты тура по дебетовой карте

2.1 Успешная оплата тура - все поля заполнены валидными данными
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                          
Ожидаемый результат: "Успешно. Операция одобрена Банком"

2.2 Отказ в покупке тура - в поле "Номер карты" ввести меньше цифр чем в номере карты
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести 4444 
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                                  
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен

2.3 Отказ в покупке тура - в поле "Номер карты" ввести не существующий номер 
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести 0000 0000 0000 0000 
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                         
Ожидаемый результат: "Ошибка! Банк отказал в проведении операции" - запрос на оплату в банк не оправлен

2.4 Отказ в покупке тура - в поле "Месяц" ввести не существующий месяц, например 13
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 13
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                                    
Ожидаемый результат: "Неверно указан срок действия карты" - запрос на оплату в банк не оправлен

2.5 Отказ в покупке тура - в поле "Месяц" ввести не существующий месяц, например 00
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 00
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                        
Ожидаемый результат: "Неверно указан срок действия карты" - запрос на оплату в банк не оправлен

2.6 Отказ в покупке тура - в поле "Год" ввести прошедший год, например 19
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 19
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                              
Ожидаемый результат: "Истёк срок действия карты" - запрос на оплату в банк не оправлен

2.7 Отказ в покупке тура - в поле "Год" ввести далекий год, например 99
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 99
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                                     
Ожидаемый результат: "Неверно указан срок действия карты" - запрос на оплату в банк не оправлен

2.8 Отказ в покупке тура - в поле "Владелец" ввести набор цифр и спец.символов
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести 1111№№№№
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                              
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен

2.9 Отказ в покупке тура - в поле "Владелец" ввести имя на кирилице
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Иванова Анна
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                                      
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен (требуется уточнение написание имени кириллцей)

2.10 Отказ в покупке тура - в поле "Владелец" ввести только фамилию или имя
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                                   
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен (требуется уточнение ввода только имени или фамилии)

2.11 Отказ в покупке тура - в поле "Владелец" ввести один символ
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести F
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                        
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен (требуется уточнение ввода коротких имен)

2.12 Отказ в покупке тура - в поле "Владелец" ввести много символов
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                                
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен (требуется уточнение ввода длины имени)

2.13 Отказ в покупке тура - в поле "CVC/CVV" ввести не корректные данные 000
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 000
7. Нажать "Продолжить"                                                    
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен (требуется уточнение данных 000)

2.14 Отказ в покупке тура - в поле "CVC/CVV" ввести не корректные данные 22
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 22
7. Нажать "Продолжить"                                         
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен 

2.15 Отказ в покупке тура - в поле "Номер карты" ввести буквы и спец.символы
1. Нажать на кнопку "Купить"
2. В поле "Номер карты" ввести №№fffююю                                     
Ожидаемый результат: "Поле не позволяет ввести буквы и спец.символы"  

2.16 Направление заявки с пустыми полями
1. Оставить все поля пустым
2. Нажать "Продолжить"                                      
Ожидаемый результат: "Поле обязательно для заполнения" 

### 3. Покупка тура в кредит по данным банковской карты

3.1 Успешная оплата тура - все поля заполнены валидными данными
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                          
Ожидаемый результат: "Успешно. Операция одобрена Банком"

3.2 Отказ в покупке тура - в поле "Номер карты" ввести меньше цифр чем в номере карты 
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести 4444 
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                             
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен

3.3 Отказ в покупке тура - в поле "Номер карты" ввести не существующий номер 
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести 0000 0000 0000 0000 
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                                
Ожидаемый результат: "Ошибка! Банк отказал в проведении операции" - запрос на оплату в банк не оправлен

3.4 Отказ в покупке тура - в поле "Месяц" ввести не существующий месяц, например 13
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 13
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                                
Ожидаемый результат: "Неверно указан срок действия карты" - запрос на оплату в банк не оправлен

3.5 Отказ в покупке тура - в поле "Месяц" ввести не существующий месяц, например 00
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 00
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                
Ожидаемый результат: "Неверно указан срок действия карты" - запрос на оплату в банк не оправлен

3.6 Отказ в покупке тура - в поле "Год" ввести прошедший год, например 19
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 19
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                               
Ожидаемый результат: "Истёк срок действия карты" - запрос на оплату в банк не оправлен

3.7 Отказ в покупке тура - в поле "Год" ввести далекий год, например 99
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 99
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                            
Ожидаемый результат: "Неверно указан срок действия карты" - запрос на оплату в банк не оправлен

3.8 Отказ в покупке тура - в поле "Владелец" ввести набор цифр и спец.символов
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести 1111№№№№
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                      
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен

3.9 Отказ в покупке тура - в поле "Владелец" ввести имя на кирилице
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Иванова Анна
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                                        
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен (требуется уточнение написание имени кириллцей)

3.10 Отказ в покупке тура - в поле "Владелец" ввести только фамилию или имя
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                               
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен (требуется уточнение ввода только имени или фамилии)

3.11 Отказ в покупке тура - в поле "Владелец" ввести один символ
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести F
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                                    
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен (требуется уточнение ввода коротких имен)

3.12 Отказ в покупке тура - в поле "Владелец" ввести много символов
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
6. В поле CVC/CVV ввести 123
7. Нажать "Продолжить"                                                   
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен (требуется уточнение ввода длины имени)

3.13 Отказ в покупке тура - в поле "CVC/CVV" ввести не корректные данные 000
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 000
7. Нажать "Продолжить"                                                         
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен (требуется уточнение данных 000)

3.14 Отказ в покупке тура - в поле "CVC/CVV" ввести не корректные данные 22
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести 4444 4444 4444 4441
3. В поле "Месяц" ввести 12
4. В поле "Год" ввести 25
5. В поле "Владелец" ввести Ivanova Anna
6. В поле CVC/CVV ввести 22
7. Нажать "Продолжить"                                                            
Ожидаемый результат: "Неверный формат" - запрос на оплату в банк не оправлен 

3.15 Отказ в покупке тура - в поле "Номер карты" ввести буквы и спец.символы
1. Нажать на кнопку "Купить в кредит"
2. В поле "Номер карты" ввести №№fffююю                                       
Ожидаемый результат: "Поле не позволяет ввести буквы и спец.символы"  

3.16 Направление заявки с пустыми полями
1. Оставить все поля пустым
2. Нажать "Продолжить"                                         
Ожидаемый результат: "Поле обязательно для заполнения" 

### 4. Проверка корретной работы СУБД
Проверить статусы банковских карт. Карты для тестирования предоставлены в файле data.json:

Данные валидной карты статус APPROVED
1. В поле "Номер карты" ввести 4444 4444 4444 4441
2. В поле "Месяц" ввести 12
3. В поле "Год" ввести 25
4. В поле "Владелец" ввести Ivanova Anna
5. В поле CVC/CVV ввести 123

Данные не валидной карты статус DECLINED
1. В поле "Номер карты" ввести 4444 4444 4444 4442
2. В поле "Месяц" ввести 12
3. В поле "Год" ввести 25
4. В поле "Владелец" ввести Ivanova Anna
5. В поле CVC/CVV ввести 123

## Перечень используемых инструментов с обоснованием выбора 
* Браузер Google Chrome - наиболее популярный браузер
* Java 11 - наиболее популярный и наиболее изучаемый язык программирования
* IntelliJ IDEA - инструмент для написания и проверки тестов
* JUnit - наиболее распространенный фреймворк для работы с автотестами
* Selenide - фреймворк для автоматизированного тестирования
* Selenium - инструмент для управления браузером
* Gradle — инструмент для сборки проектов и управления зависимостями
* Lombok - создание аннотаций, упрощение кода
* Allure - формирования отчетности
* Faker - библиотека для генерирования данных для приложения
* GitHub - онлайн сервис для хранания репозиториев

## Перечень и описание возможных рисков при автоматизации
* Изменение структуры сайта
* Изменение формы записи
* Отсутствие тестовых данных
* Отсутствие доступа к реальной базе данных (отличие тестовых данных от реальной базы)
* Отсутсвие тех.задания

## Интервальная оценка с учётом рисков (в часах)
* Подготовка тестовой инфраструктуры - 16 часов
* Написание автотестов, тестирование и отладка автотестов - 48 часов
* Подготовка отчётных документов по итогам автоматизации - 12 часов

## План сдачи работ
* Готовность автотестов - 10.12.2021
* Результаты прогона - 15.12.2021
* Отчёт по автоматизации - 20.12.2021
